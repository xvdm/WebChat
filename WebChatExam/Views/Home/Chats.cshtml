@using WebChatExam.Models.Repositories
@{
    ViewData["Title"] = "Chats";
    Layout = "Layouts/_Layout";
}

<link rel="stylesheet" href="~/css/chatsPage.css" />
<link rel="stylesheet" href="~/css/chatsList.css" />
<link rel="stylesheet" href="~/css/messages.css" />

<script type="text/javascript">
    function sendMessage() {
        var message = $("#messageInput").serialize();
        $.ajax({
            type: 'POST',
            url: '/Home/SendMessage',
            contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
            data: message,
            success: function (result) {
                $("#messages").html(result);
            }
        })
    }
</script>

<div class="chatsPage">
    <div class="chats" id="chats">
        @await Html.PartialAsync("ChatPartials/PartialChatsList")
    </div>
    
    <div class="messages" id="messages"> 
        @await Html.PartialAsync("ChatPartials/PartialMessages")
    </div>
    
    <div class="chatSettings" id="settings"> 
        @await Html.PartialAsync("ChatPartials/PartialChatSettings")
    </div>
</div>